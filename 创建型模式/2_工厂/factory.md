# 1、看一个需求：

- 一个披萨的项目：要便于披萨种类的扩展，要便于维护
  - 披萨的种类很多（比如GreePizz、CheesePizz等）
  - 披萨的制作有prepare,bake,cut,box
  - 完成披萨店订购功能

# 2、使用传统方式来完成

## 2.1、思路分析

- 类图

![1563173513234](E:\after\Java\DesignMode\创建型模式\2_工厂\images\工厂模式类图.png)

- 代码（src中）

- 传统方式的优缺点

  - 优点是比较好理解，简单易操作

  - 缺点是违反了设计模式的ocp原则，即**对扩展开放，对修改关闭**。即当我们给类增加新功能的时候，尽量不修改代码，或者尽可能少修改代码

  - 比如我们这时要新添加一个Pizz的种类（Pepper披萨），我们需要做如下修改：

    ```java
    //新增
    public class Pepper extends Pizza{
        @Override
        public void prepare(){
            setName("胡椒Pizza");
            System.out.println(name + "preparing;");
        }
    }
    
    //在OrderPizza中修改代码
    else if("Pepper".equals(orderType)){
        pizza = new Pepper();
    }
    ```

- 改进的思路分析

  - **分析**：修改代码可以接受，但是如果我们在其他的地方也有创建Pizza的代码，就意味着，也需要修改，而创建Pizza的代码，**往往有多处**；
  - **思路**：把创建Pizza对象封装到一个类中，这样我们有新的Pizza种类时。只需要修改该类就可以，**其他有创建到Pizza对象的代码就不需要修改了** -->**简单工厂模式**

# 3、简单工厂模式

## 3.1、基本介绍

- 简单工厂模式是属于**创建型模式**，是工厂模式的一种，**简单工厂模式是由1+个工厂对象决定创建出哪一种产品类的实例**。简单工厂模式是工厂模式家族中最简单实用的模式
- 简单工厂模式：定义了一个创建对象的类，由这个类来封装实例化对象的行为（代码）
- 在软件开发中，当我们会用到大量的创建某种、某类或者某批对象时，就会使用到工厂模式

## 3.2、使用简单工厂模式

- 简单工厂模式的设计方案：定义一个可以实例化的Pizza对象的类，封装创建对象的代码。

- 类图

  ![1563176715339](images\简单工厂类图.png)

- 看代码演示

# 4、工厂方法模式

- 看一个新的需求：披萨项目定的需求，客户在点披萨是，可以点不同口味的披萨，比如 北京的奶酪披萨，北京的胡椒披萨，伦敦的奶酪披萨，伦敦的胡椒披萨。
- 思路1：使用简单工厂模式，创建不同的简单工厂类，比如BJPizzaSimpleFactory、LDPizaSimpleFactory等等，从当前这个案例来说，也是可以的，但是考虑到项目的规模，以及软件的可维护性、可扩展性并不是特别好。
- 思路2：使用工厂方法模式

## 4.1、工厂方法模式介绍

- 工厂方法模式设计方案：将披萨项目的实例化功能抽象成抽象方法，在不同的口味点餐子类中具体实现。
- 工厂方法模式：定义了一个创建对象的抽象方法，**由子类决定要实例化的类**。工厂方法模式将**对象的实例化推迟到子类**。

## 4.2、使用工厂方法模式

- 类图

![1563178886606](images\工厂方法模式.png)

- 实例代码

