# 1、需求

智能家庭管理问题

- 智能家庭包括各种设备：闹钟、咖啡机、电视机、窗帘等
- 主人要看电视时，各个设备可以协同工作，自动完成看电视的准备工作，比如流程为：闹钟响起--》咖啡机开始做咖啡--》窗帘自动落下--》电视机开始播放

# 2、中介者模式

## 2.1、基本介绍

- 中介者模式（Mediator Pattern），用一个中介对象来封装一系列的对象交互。中介者使各个对象不需要显示地相互引用，从而使其耦合松散，而且可以独立地改变他们之间的交互
- 中介者模式属于行为模式，使代码易于维护
- 比如MVC模式，C（Collector控制器）是M（Model模型）和V（View视图）的中介者，在前后端交互时起到了中间人的作用。

## 2.2、原理图

![1563864731353](images\中介者模式原理图.png)

## 2.3、中介者模式应用实例

### 2.3.1、类图

![1563865751169](images\中介者模式解决问题类图.png)

### 2.3.2、代码



# 3、中介者模式的注意事项

- 多个类相互耦合，会形成网状结构，使用中介者模式将网状结构分离为星型结构进行解耦
- 减少类间依赖，降低了耦合，符合迪米特法则
- 中介者承担了较多的责任，一旦中介者出现了问题，整个系统就会受到影响
- 如果设计不当，中介者对象本身变得过于复杂，这点在实际使用时，要特别注意