# 1、需求

- 手机操作问题
  - 现在对不同手机类型的不同平拍实现操作编程（比如：开机、关机、上网、打电话等）
  - ![1563266496646](images\手机操作问题.png)

# 2、传统方式解决问题

- 类图

  ![1563266559849](images\传统方案解决手机操作问题类图.png)

- 传统的方式解决手机操作问题分析

  - 扩展性问题（类爆炸），如果我们再增加手机的样式（旋转式），就需要增加各个品牌手机的类，同样如果我们增加一个手机品牌，也要在各个手机样式类下增加。
  - 违反了单出职责原则，当我们增加手机样式时，要同时增加所有品牌的手机，这样增加了代码维护成本
  - 解决方案-使用**桥接模式**



# 3、桥接模式(Bridge)

## 3.1、基本介绍

- 桥接模式（Bridge模式）是指：将实现与抽象放在两个不同的类层次中，使两个层次可以独立改变。
- 是一种结构型设计模式
- Bridge模式基于**类的最小设计原则**，通过使用封装、聚合及继承等行为让不同的类承担不同的职责。它的主要特点是把抽象（Abstraction)与行为实现(Implementation)分离开来，从而可以保持各部分的独立性以及应对他们的功能扩展

## 3.2、原理类图

![1563267068645](images\桥接模式的原理类图.png)

原理类图说明：

- Client类：桥接模式的调用者
- 抽象类（Abstraction）：维护了Implementor / 即它的实现类ConcreteImplementorA，二者是聚合关系,Abstraction充当了桥接类（将实现和抽象桥接起来）
- RefinedAbstaction：是Abstraction抽象类的子类
- Implemetor：行为实现类的接口
- ConcreteImplementirA/B：行为的具体实现类
- 从UML图可以看出：这里的抽象类和接口是聚合的关系，其实就是调用和被调用的关系。

## 3.3、桥接模式解决手机操作问题

- 类图

  ![1563267650005](images\桥接模式解决手机操作问题.png)

- 代码示例（src）

## 3.4、桥接模式在JDBC的源码剖析

- JDBC的Driver接口，如果从桥接模式来看，Driver就是一个就扣，下面可以有MySql的Driver，Oracle的Driver，这些就可以当做实现接口类。

# 4、桥接模式注意事项

- 实现了抽象和实现部分的分离，从而极大的提供了系统的灵活性，让抽象部分和实现部分独立开来，这有助于系统进行**分层设计**，从而产生更好的结构化系统。
- 对于系统的高层部分，只需要知道抽象部分和实现部分的接口就可以了，其它的部分由具体业务来完成。
- 桥接模式替代多层继承方案，可以**减少子类的个数**，**降低系统的管理和维护成本**。
- 桥接模式的引入增加了系统的理解和设计难度，由于聚合关联关系建立在抽象层，要求开发者针对抽象进行设计和编程
- 桥接模式要求正确识别出系统中两个独立变化的维度，因此其使用范围有一定的局限性，即需要有这样的应用场景。

# 5、桥接模式的使用场景

- 对于那些不希望使用继承或因为多层次继承导致系统类的个数急剧增加的系统，桥
  接模式尤为适用
- 常见的应用场景：
  - JDBC驱动程序
  - 银行转账系统
    - 专账分类：网上转账，柜台转账，AMT转账
    - 转账用户类型：普通用户，银卡用，金卡用户.
  - 消息管理
    - 消息类型：即时消息，延时消息
    - 消息分类：手机短信，邮件消息，QQ消息..